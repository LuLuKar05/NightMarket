pragma language_version 0.18.0;

import CompactStandardLibrary;

export ledger verified_kyc: Map<Bytes<32>, Boolean>;

witness kyc_proof(): Opaque<"Uint8Array">;

export circuit verify_kyc(user: Bytes<32>): [] {
    assert(verify_kyc_proof(kyc_proof()), "Invalid proof");

    // Explicitly disclose the user argument before storing in the ledger
    verified_kyc.insert(disclose(user), true);

    return;
}

circuit verify_kyc_proof(proof: Opaque<"Uint8Array">): Boolean {
    return true;
}